<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shopping Cart</title>

<style>
  .table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  .table td, .table th {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .table th {
    background-color: #f5f5f5;
  }

  .table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  .table tbody tr:hover {
    background-color: #f1f1f1;
  }

  .total-section {
    margin-top: 20px;
    text-align: center;
  }

  .total-label {
    font-weight: bold;
  }

</style>
</head>


<body>
  <header>
    <div class="header-content">
      <div class="center-section">
        Cart
      </div>
      <div>
      <%= link_to "BooksðŸ“š", products_path %>
      </div>
    <div>
      <%= link_to "Clear the shopping cart.", @cart, data: { "turbo-method": :delete, "turbo-confirm": "May I delete all items from your shopping cart?" },class:"delete" %>
    </div>
  </header>

  <% if @line_items.present? %>
    <table class="table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Quantity</th>
          <th>Price</th>
        </tr>
      </thead>

      <tbody>
        <% @line_items.each do |line_item| %>
          <% book = line_item.book %>
          <tr>
            <td>ðŸ“–<%= book.title %></td>
            <td>â—†<%= line_item.quantity %>items</td>
            <td>ðŸ’°ï¿¥<%= line_item.item_total_price %>(Including tax)</td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <div class="total-section">
      <p>ðŸ“š Quantity of orders: <%= @current_cart.total_number %><span> items</span></p>
      <p>ðŸ’´ Total price:ï¿¥<%= @current_cart.total_price %>(Including tax)</p>
    </div>

    <div class="center-section"> 
    <% if @line_items.count == 0 %>
        <strong>Your shopping cart is emptyðŸ›’â€¦</strong>
    <% else %>
      <%= link_to "OrderðŸ›’=3", new_order_path, class:"add" %>
    <% end %>
    </div>
  <% end %>
  </div>
</body>
</html>

